<div *ngFor="let listing of listings">
    <ul>
        <li>{{listing.price}}</li>
        <li>{{listing.id}}</li>
        <li>{{listing.address}}</li>
        <li>{{listing.city}}, {{listing.state}} {{listing.zip}}</li>
        <li>{{listing.bedrooms}} bedrooms</li>
    </ul>
    <div>
        <button type="button" (click)="onOpenModal(listing, 'edit')">Edit</button>
    </div>
</div>


<div id="main-container">

    <div>
        <button (click)="onOpenModal(undefined, 'add')">Add Listing</button>
    </div>

    <!-- Add Listing Modal  -->
    <div class="modal fade" id="addListingModal" tabindex="-1" role="dialog" aria-labelledby="addListingModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modale-title" id="addListingModalLabel">Add Listing</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
             </div>
             <div class="modal-body">
                <form #addForm="ngForm" (ngSubmit)="onAddListing(addForm)">
                <div class="form-group">
                   <label for="name">Address</label>
                   <input type="text" ngModel name="address" class="form-control" id="address" placeholder=" Address" required>
                </div>
                <div class="form-group">
                   <label for="city">City</label>
                   <input type="text" ngModel name="city" class="form-control" id="city" placeholder="City" required>
                </div>
                <div class="form-group">
                    <label for="state">State</label>
                    <input type="text" ngModel name="state" class="form-control" id="state" placeholder="State" required>
                 </div>
                 <div class="form-group">
                    <label for="zip">Zip</label>
                    <input type="text" ngModel name="zip" class="form-control" id="zip" placeholder="Zip" required>
                 </div>
                 <div class="form-group">
                    <label for="squareFootage">SqFt</label>
                    <input type="text" ngModel name="squareFootage" class="form-control" id="squareFootage" placeholder="SqFt" required>
                 </div>
                 <div class="form-group">
                    <label for="bathrooms">Bathrooms</label>
                    <input type="text" ngModel name="bathrooms" class="form-control" id="bathrooms" placeholder="Bathrooms" required>
                 </div>
                 <div class="form-group">
                    <label for="bedrooms">Bedrooms</label>
                    <input type="text" ngModel name="bedrooms" class="form-control" id="bedrooms" placeholder="Bedrooms" required>
                 </div>
                 <div class="form-group">
                    <label for="centralCooling">Central Cooling</label>
                    <input type="checkbox" [(ngModel)]="centralCooling" id="central_cooling" name="centralCooling" value="TRUE">
                 </div>
                 <div class="form-group">
                    <label for="centralHeating">Central heating</label>
                    <input type="checkbox" [(ngModel)]="centralHeating" id="central_Heating" name="centralHeating" value="TRUE">
                 </div>
                 <div class="form-group">
                    <label for="garage">Garage</label>
                    <input type="checkbox" [(ngModel)]="garage" id="garage" name="garage" value="TRUE">
                 </div>
                 <div class="form-group">
                    <label for="schoolArea">School Area</label>
                    <input type="text" ngModel name="schoolArea" class="form-control" id="school_area" name="schoolArea" placeholder="School Area" required>
                 </div>
                 <div class="form-group">
                    <label for="listingDate">Date</label>
                    <input type="date" [(ngModel)]="listingDate"  class="form-control" id="listingDate" name="listingDate" value="listingDate" required onload="getDate()">
                 </div>
                 <div>
                    <label for="status">Status: </label>
                    <select name="status" ngModel id="status" name="status">
                        <option>For Sale</option>
                        <option>Pending</option>
                        <option>Under Contract</option>
                        <option>Sold</option>
                    </select>
                 </div>
                 <div class="form-group">
                    <label for="price">Price</label>
                    <input type="text" ngModel name="price" class="form-control" id="price" placeholder="Price" required>
                 </div>
                <div class="modal-footer">
                   <button type="button" id="add-employee-form" class="btn btn-secondary" data-dismiss="modal">Close</button>
                   <button [disabled]="addForm.invalid" type="submit" class="btn btn-primary" >Save changes</button>
                </div>
                </form>
            </div>
        </div>
      </div>
      </div>

    <!-- Edit Listing Modal -->
    <div class="modal fade" id="editListingModal" tabindex="-1" role="dialog" aria-labelledby="addListingModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modale-title" id="editListingModalLabel">Edit Listing</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
             </div>
             <div class="modal-body">
                <form #editForm="ngForm">
                <div class="form-group">
                   <label for="name">Address</label>
                   <input type="text" ngModel="{{editListing?.address}}" name="address" class="form-control" id="address" placeholder=" Address" required>
                </div>
                <div class="form-group">
                   <label for="city">City</label>
                   <input type="text" ngModel="{{editListing?.city}}" name="city" class="form-control" id="city" placeholder="City" required>
                </div>
                <div class="form-group">
                    <label for="state">State</label>
                    <input type="text" ngModel="{{editListing?.state}}" name="state" class="form-control" id="state" placeholder="State" required>
                 </div>
                 <div class="form-group">
                    <label for="zip">Zip</label>
                    <input type="text" ngModel="{{editListing?.zip}}" name="zip" class="form-control" id="zip" placeholder="Zip" required>
                 </div>
                 <div class="form-group">
                    <label for="squareFootage">SqFt</label>
                    <input type="text" ngModel="{{editListing?.squareFootage}}" name="squareFootage" class="form-control" id="squareFootage" placeholder="SqFt" required>
                 </div>
                 <div class="form-group">
                    <label for="bathrooms">Bathrooms</label>
                    <input type="text" ngModel="{{editListing?.bathrooms}}" name="bathrooms" class="form-control" id="bathrooms" placeholder="Bathrooms" required>
                 </div>
                 <div class="form-group">
                    <label for="bedrooms">Bedrooms</label>
                    <input type="text" ngModel="{{editListing?.bedrooms}}" name="bedrooms" class="form-control" id="bedrooms" placeholder="Bedrooms" required>
                 </div>
                 <div class="form-group">
                    <label for="centralCooling">Central Cooling</label>
                    <input type="checkbox" ngModel="{{editListing?.centralCooling}}" id="central_cooling" name="centralCooling" value="TRUE">
                 </div>
                 <div class="form-group">
                    <label for="centralHeating">Central heating</label>
                    <input type="checkbox" ngModel="{{editListing?.centralHeating}}" id="central_Heating" name="centralHeating" value="TRUE">
                 </div>
                 <div class="form-group">
                    <label for="garage">Garage</label>
                    <input type="checkbox" ngModel="{{editListing?.garage}}" id="garage" name="garage" value="TRUE">
                 </div>
                 <div class="form-group">
                    <label for="schoolArea">School Area</label>
                    <input type="text" ngModel="{{editListing?.schoolArea}}" name="schoolArea" class="form-control" id="school_area" name="schoolArea" placeholder="School Area" required>
                 </div>
                 <div class="form-group">
                    <label for="listingDate">Date</label>
                    <input type="date" ngModel="{{editListing?.listingDate}}"  class="form-control" id="listingDate" name="listingDate" value="listingDate" required>
                 </div>
                 <div>
                    <label for="status">Status: </label>
                    <select ngModel="{{editListing?.status}}" name="status" ngModel id="status" name="status">
                        <option>For Sale</option>
                        <option>Pending</option>
                        <option>Under Contract</option>
                        <option>Sold</option>
                    </select>
                 </div>
                 <div class="form-group">
                    <label for="price">Price</label>
                    <input type="text" ngModel="{{editListing?.price}}" name="price" class="form-control" id="price" placeholder="Price" required>
                 </div> 
                <div class="modal-footer">
                   <button type="button" id="add-employee-form" class="btn btn-secondary" data-dismiss="modal">Close</button>
                   <button (click)="onEditListing(editForm.value, editListing?.id)" data-dismiss="modal" class="btn btn-primary" >Save changes</button>
                </div>
                </form>
            </div>
        </div>
      </div>
      </div>
      
   